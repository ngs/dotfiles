---
name: daily-report
description: Generate daily report from claude
---

# 日報作成スキル

指定された日付の日報ファイルを検索し、内容をまとめて表示します。

## 使い方

```
/daily-report [日付]
```

日付は `YYYY-MM-DD` 形式で指定します。省略した場合は今日の日付を使用します。

例:
- `/daily-report` - 今日の日報を表示
- `/daily-report 2026-02-15` - 2026年2月15日の日報を表示

## 実行手順

1. 引数として日付が指定されているか確認する
   - 指定がない場合は今日の日付（`date +%Y-%m-%d` の出力）を使用
   - 指定がある場合はその日付を使用

2. `$HOME/claude-log` 配下を検索し、指定された日付の `.md` ファイルを探す
   - パターン: `**/{日付}.md` （例: `**/2026-02-15.md`）

3. 見つかった各ファイルについて:
   - ファイルのパスからプロジェクト名を抽出（親ディレクトリ名）
   - ファイルの内容を読み込む

4. 各プロジェクトのログを読み、**読みやすい日報形式に整理・要約**する:
   - 元のログは時刻ごとの断片的なやり取りなので、そのまま貼り付けない
   - 以下の観点で内容を整理する:
     - **背景・目的**: なぜその作業を行ったのか
     - **実施内容**: 具体的に何をしたのか（箇条書きで簡潔に）
     - **成果・結果**: 完了したこと、達成したこと
     - **課題・残タスク**: 未解決の問題、次回への持ち越し事項
   - すべての観点が必須ではなく、該当する内容がある場合のみ記載

5. 保存先ディレクトリ `$HOME/claude-log/_daily-reports` が存在しない場合は作成する

6. 既存の日報ファイルを確認し、適切に処理する:
   - **日報が存在しない場合**: 新規作成する
   - **日報が既に存在する場合**:
     - 既存の日報を読み込む
     - 元ログと比較して、既存の日報に含まれていない新しい内容のみを特定する
     - 新しい内容がある場合のみ、該当プロジェクトのセクションに加筆する
     - 既に記載済みの内容は重複して追加しない

7. 以下の形式で日報をまとめて出力し、`$HOME/claude-log/_daily-reports/yyyy-mm-dd.md` に保存する:

```markdown
# 日報: {日付}

## {プロジェクト名1}

### 背景・目的
（なぜこの作業を行ったか）

### 実施内容
- 実施したこと1
- 実施したこと2

### 成果
- 達成したこと

### 課題・残タスク
- 未解決の問題や次回への持ち越し

---

## {プロジェクト名2}
...
```

8. 日報ファイルが見つからなかった場合は、その旨を表示する

## 注意事項

- 元のログをそのまま貼り付けず、読み手が理解しやすいよう整理・要約する
- 技術的な詳細は適度に残しつつ、冗長な部分は省略する
- ファイルが空の場合でも、存在すればプロジェクト名と共に表示する
- 同じ日付で複数のプロジェクトに日報がある場合は、すべて表示する
- パスの深さに関係なく、ファイル名が日付に一致するものをすべて検索する
- 既存の日報に加筆する際は、内容の一貫性を保ち、重複を避ける
- 加筆時は既存の構造（見出しレベル等）を維持する
